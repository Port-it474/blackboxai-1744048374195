<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details | QuickDeliver</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <div id="navigation-container"></div>

    <!-- Load shared navigation -->
    <script>
        fetch('components/navigation.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('navigation-container').innerHTML = html;
            });
    </script>

    <!-- Product Details -->
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
            <!-- Product Images -->
            <div>
                <div class="bg-white rounded-lg shadow-md overflow-hidden mb-4">
                    <img id="main-product-image" src="https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg" alt="Product" class="w-full h-96 object-cover">
                </div>
                <div class="grid grid-cols-4 gap-2">
                    <button class="border border-gray-200 rounded-md overflow-hidden">
                        <img src="https://images.pexels.com/photos/2147491/pexels-photo-2147491.jpeg" alt="Thumbnail" class="w-full h-20 object-cover" onclick="changeMainImage(this.src)">
                    </button>
                    <button class="border border-gray-200 rounded-md overflow-hidden">
                        <img src="https://images.pexels.com/photos/1146760/pexels-photo-1146760.jpeg" alt="Thumbnail" class="w-full h-20 object-cover" onclick="changeMainImage(this.src)">
                    </button>
                    <button class="border border-gray-200 rounded-md overflow-hidden">
                        <img src="https://images.pexels.com/photos/1437267/pexels-photo-1437267.jpeg" alt="Thumbnail" class="w-full h-20 object-cover" onclick="changeMainImage(this.src)">
                    </button>
                    <button class="border border-gray-200 rounded-md overflow-hidden">
                        <img src="https://images.pexels.com/photos/1435904/pexels-photo-1435904.jpeg" alt="Thumbnail" class="w-full h-20 object-cover" onclick="changeMainImage(this.src)">
                    </button>
                </div>
            </div>

            <!-- Product Info -->
            <div>
                <h1 class="text-3xl font-bold text-gray-800 mb-2" id="product-name">Margherita Pizza</h1>
                <div class="flex items-center mb-4">
                    <div class="text-yellow-400 mr-2">
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star"></i>
                        <i class="fas fa-star-half-alt"></i>
                    </div>
                    <span class="text-gray-500">(24 reviews)</span>
                </div>
                <p class="text-2xl font-bold text-yellow-500 mb-6" id="product-price">$12.99</p>
                <p class="text-gray-600 mb-8" id="product-description">
                    Classic Margherita pizza with fresh mozzarella, basil, and our signature tomato sauce. 
                    Made with hand-tossed dough and baked in a wood-fired oven for authentic flavor.
                </p>
                <div class="mb-8">
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Vendor</h3>
                    <div class="flex items-center">
                        <img src="https://images.pexels.com/photos/264636/pexels-photo-264636.jpeg" alt="Vendor" class="w-12 h-12 rounded-full mr-3 object-cover">
                        <div>
                            <p class="font-medium" id="vendor-name">Pizza Heaven</p>
                            <p class="text-sm text-gray-500">4.5 â˜… (120 ratings)</p>
                        </div>
                    </div>
                </div>
                <div class="mb-8">
                    <h3 class="text-lg font-semibold text-gray-800 mb-2">Quantity</h3>
                    <div class="flex items-center">
                        <button class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-3 py-1 rounded-l-md" onclick="updateQuantity(-1)">
                            <i class="fas fa-minus"></i>
                        </button>
                        <span class="bg-gray-100 px-4 py-1 text-center" id="quantity">1</span>
                        <button class="bg-gray-200 hover:bg-gray-300 text-gray-800 px-3 py-1 rounded-r-md" onclick="updateQuantity(1)">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
                <button onclick="addToCart()" class="w-full bg-yellow-500 hover:bg-yellow-600 text-white py-3 rounded-md font-medium mb-4">
                    <i class="fas fa-shopping-cart mr-2"></i>Add to Cart
                </button>
                <button class="w-full bg-white border border-yellow-500 text-yellow-500 hover:bg-yellow-50 py-3 rounded-md font-medium">
                    <i class="fas fa-heart mr-2"></i>Add to Wishlist
                </button>
            </div>
        </div>

        <!-- Product Tabs -->
        <div class="mt-12">
            <div class="border-b border-gray-200">
                <nav class="-mb-px flex space-x-8">
                    <button id="details-tab" class="border-b-2 border-yellow-500 text-yellow-600 px-1 py-4 text-sm font-medium">Details</button>
                    <button id="nutrition-tab" class="border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 px-1 py-4 text-sm font-medium">Nutrition</button>
                    <button id="reviews-tab" class="border-b-2 border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 px-1 py-4 text-sm font-medium">Reviews</button>
                </nav>
            </div>
            <div class="py-6">
                <div id="details-content" class="prose max-w-none">
                    <h3>Product Details</h3>
                    <ul>
                        <li>12-inch hand-tossed pizza</li>
                        <li>Fresh mozzarella cheese</li>
                        <li>Organic basil leaves</li>
                        <li>Homemade tomato sauce</li>
                        <li>Wood-fired oven baked</li>
                        <li>Serves 2-3 people</li>
                    </ul>
                </div>
                <div id="nutrition-content" class="hidden">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Nutritional Information</h3>
                    <table class="min-w-full divide-y divide-gray-200">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nutrient</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Per Serving</th>
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Calories</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">285 kcal</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Protein</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">12g</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Carbohydrates</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">36g</td>
                            </tr>
                            <tr>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">Fat</td>
                                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">10g</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="reviews-content" class="hidden">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Customer Reviews</h3>
                    <div class="space-y-6">
                        <div class="bg-white p-4 rounded-lg shadow-sm">
                            <div class="flex items-center mb-2">
                                <div class="text-yellow-400 mr-2">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                </div>
                                <span class="text-sm text-gray-500">2 days ago</span>
                            </div>
                            <h4 class="font-medium">Best pizza ever!</h4>
                            <p class="text-gray-600 mt-1">The crust was perfectly crispy and the flavors were amazing. Will definitely order again!</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm">
                            <div class="flex items-center mb-2">
                                <div class="text-yellow-400 mr-2">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                </div>
                                <span class="text-sm text-gray-500">1 week ago</span>
                            </div>
                            <h4 class="font-medium">Great taste</h4>
                            <p class="text-gray-600 mt-1">Very authentic Italian pizza. Only wish there was more basil on it.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div id="footer-container"></div>

    <script>
        // Load shared footer
        fetch('components/footer.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('footer-container').innerHTML = html;
            });

        // Change main product image
        function changeMainImage(src) {
            document.getElementById('main-product-image').src = src;
        }

        // Update quantity
        let quantity = 1;
        function updateQuantity(change) {
            quantity += change;
            if (quantity < 1) quantity = 1;
            if (quantity > 10) quantity = 10;
            document.getElementById('quantity').textContent = quantity;
        }

        // Add to cart
        function addToCart() {
            const productId = new URLSearchParams(window.location.search).get('id') || 1;
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            
            // Add the product multiple times based on quantity
            for (let i = 0; i < quantity; i++) {
                cart.push(productId);
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            document.getElementById('cart-count').textContent = `(${cart.length})`;
            
            alert(`${quantity} item(s) added to cart!`);
        }

        // Tab switching
        document.getElementById('details-tab').addEventListener('click', () => {
            document.getElementById('details-content').classList.remove('hidden');
            document.getElementById('nutrition-content').classList.add('hidden');
            document.getElementById('reviews-content').classList.add('hidden');
            document.getElementById('details-tab').classList.add('border-yellow-500', 'text-yellow-600');
            document.getElementById('nutrition-tab').classList.remove('border-yellow-500', 'text-yellow-600');
            document.getElementById('reviews-tab').classList.remove('border-yellow-500', 'text-yellow-600');
        });

        document.getElementById('nutrition-tab').addEventListener('click', () => {
            document.getElementById('details-content').classList.add('hidden');
            document.getElementById('nutrition-content').classList.remove('hidden');
            document.getElementById('reviews-content').classList.add('hidden');
            document.getElementById('details-tab').classList.remove('border-yellow-500', 'text-yellow-600');
            document.getElementById('nutrition-tab').classList.add('border-yellow-500', 'text-yellow-600');
            document.getElementById('reviews-tab').classList.remove('border-yellow-500', 'text-yellow-600');
        });

        document.getElementById('reviews-tab').addEventListener('click', () => {
            document.getElementById('details-content').classList.add('hidden');
            document.getElementById('nutrition-content').classList.add('hidden');
            document.getElementById('reviews-content').classList.remove('hidden');
            document.getElementById('details-tab').classList.remove('border-yellow-500', 'text-yellow-600');
            document.getElementById('nutrition-tab').classList.remove('border-yellow-500', 'text-yellow-600');
            document.getElementById('reviews-tab').classList.add('border-yellow-500', 'text-yellow-600');
        });

        // Initialize cart count
        const cart = JSON.parse(localStorage.getItem('cart')) || [];
        document.getElementById('cart-count').textContent = `(${cart.length})`;
    </script>
</body>
</html>